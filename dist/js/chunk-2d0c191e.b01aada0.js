(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c191e"],{4738:function(s,e,a){"use strict";a.r(e);var t=function(){var s=this;s._self._c;return s._m(0)},v=[function(){var s=this,e=s._self._c;return e("div",[e("h1",[s._v("内置工具方法")]),e("h2",[s._v("基础工具方法")]),e("p",[s._v("引用：")]),e("pre",{staticClass:"hljs"},[e("code",[e("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" {walk, ...} "),e("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),e("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/utils'")]),s._v("\n")])]),e("h3",[s._v("方法")]),e("h4",[s._v("resizeImgSizeByOriginRatio(width, height, newWidth, newHeight)")]),e("blockquote",[e("p",[s._v("v0.6.5+")])]),e("p",[e("code",[s._v("width")]),s._v(": 图片原始的宽度")]),e("p",[e("code",[s._v("height")]),s._v("：图片原始的高度")]),e("p",[e("code",[s._v("newWidth")]),s._v("：要缩放到的宽度")]),e("p",[e("code",[s._v("newHeight")]),s._v("：要缩放到的高度")]),e("p",[s._v("按比例缩放图片。在保持图片原始宽高比的情况下缩放到指定的"),e("code",[s._v("newWidth")]),s._v("、"),e("code",[s._v("newHeight")]),s._v("大小。")]),e("h4",[s._v("walk(root, parent, beforeCallback, afterCallback, isRoot, layerIndex = 0, index = 0)")]),e("p",[s._v("深度优先遍历树")]),e("p",[e("code",[s._v("root")]),s._v("：要遍历的树的根节点")]),e("p",[e("code",[s._v("parent")]),s._v("：父节点")]),e("p",[e("code",[s._v("beforeCallback")]),s._v("：前序遍历回调函数，回调参数为：root, parent, isRoot, layerIndex, index")]),e("p",[e("code",[s._v("afterCallback")]),s._v("：后序遍历回调函数，回调参数为：root, parent, isRoot, layerIndex, index")]),e("p",[e("code",[s._v("isRoot")]),s._v("：是否是根节点")]),e("p",[e("code",[s._v("layerIndex")]),s._v("：节点层级")]),e("p",[e("code",[s._v("index")]),s._v("：节点在同级节点里的索引")]),e("p",[s._v("示例：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("walk(tree, "),e("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(", "),e("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {}, "),e("span",{staticClass:"hljs-function"},[s._v("() =>")]),s._v(" {}, "),e("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(", "),e("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(", "),e("span",{staticClass:"hljs-number"},[s._v("0")]),s._v(")\n")])]),e("h4",[s._v("bfsWalk(root, callback)")]),e("p",[s._v("广度优先遍历树")]),e("h4",[s._v("resizeImgSize(width, height, maxWidth, maxHeight)")]),e("p",[s._v("缩放图片的尺寸")]),e("p",[e("code",[s._v("width")]),s._v("：图片原本的宽")]),e("p",[e("code",[s._v("height")]),s._v("：图片原本的高")]),e("p",[e("code",[s._v("maxWidth")]),s._v("：要缩放到的宽")]),e("p",[e("code",[s._v("maxHeight")]),s._v("：要缩放到的高")]),e("p",[e("code",[s._v("maxWidth")]),s._v("和"),e("code",[s._v("maxHeight")]),s._v("可以同时都传，也可以只传一个")]),e("h4",[s._v("resizeImg(imgUrl, maxWidth, maxHeight)")]),e("p",[s._v("缩放图片，内部先加载图片，然后调用"),e("code",[s._v("resizeImgSize")]),s._v("方法，返回一个"),e("code",[s._v("promise")])]),e("h4",[s._v("simpleDeepClone(data)")]),e("p",[s._v("极简的深拷贝方法，只能针对全是基本数据的对象，否则会报错")]),e("h4",[s._v("copyRenderTree(tree, root)")]),e("p",[s._v("复制渲染树数据，示例：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("copyRenderTree({}, "),e("span",{staticClass:"hljs-built_in"},[s._v("this")]),s._v(".mindMap.renderer.renderTree)\n")])]),e("h4",[s._v("copyNodeTree(tree, root, removeActiveState, keepId)")]),e("ul",[e("li",[e("p",[e("code",[s._v("removeActiveState")]),s._v("："),e("code",[s._v("Boolean")]),s._v("，默认为"),e("code",[s._v("false")]),s._v("，是否移除节点的激活状态")])]),e("li",[e("p",[e("code",[s._v("keepId")]),s._v("：v0.4.6+，"),e("code",[s._v("Boolean")]),s._v("，默认为"),e("code",[s._v("false")]),s._v("，是否保留被复制节点的"),e("code",[s._v("id")]),s._v("，默认会删除"),e("code",[s._v("id")]),s._v("防止节点"),e("code",[s._v("id")]),s._v("重复，但是对于移动节点的场景，节点原"),e("code",[s._v("id")]),s._v("需要保留")])])]),e("p",[s._v("复制节点树数据，主要是剔除其中的引用"),e("code",[s._v("node")]),s._v("实例的"),e("code",[s._v("_node")]),s._v("，然后复制"),e("code",[s._v("data")]),s._v("对象的数据，示例：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("copyNodeTree({}, node)\n")])]),e("h4",[s._v("imgToDataUrl(src)")]),e("p",[s._v("图片转成dataURL")]),e("h4",[s._v("downloadFile(file, fileName)")]),e("p",[s._v("下载文件")]),e("h4",[s._v("throttle(fn, time = 300, ctx)")]),e("p",[s._v("节流函数")]),e("h4",[s._v("asyncRun(taskList, callback = () => {})")]),e("p",[s._v("异步执行任务队列，多个任务是同步执行的，没有先后顺序")]),e("h4",[s._v("degToRad(deg)")]),e("blockquote",[e("p",[s._v("v0.2.24+")])]),e("p",[s._v("角度转弧度")]),e("h4",[s._v("camelCaseToHyphen(str)")]),e("blockquote",[e("p",[s._v("v0.2.24+")])]),e("p",[s._v("驼峰转连字符")]),e("h4",[s._v("joinFontStr({ italic, bold, fontSize, fontFamily })")]),e("blockquote",[e("p",[s._v("v0.3.4+")])]),e("p",[s._v("拼接"),e("code",[s._v("css")]),s._v("字体的"),e("code",[s._v("font")]),s._v("属性值")]),e("h4",[s._v("measureText(text, { italic, bold, fontSize, fontFamily })")]),e("blockquote",[e("p",[s._v("v0.3.4+")])]),e("p",[s._v("测量文本的宽高，返回值：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("{ width, height }\n")])]),e("h4",[s._v("getTextFromHtml(html)")]),e("p",[s._v("提取html字符串里的纯文本内容。")]),e("h4",[s._v("readBlob(blob)")]),e("blockquote",[e("p",[s._v("v0.5.9+")])]),e("p",[s._v("将"),e("code",[s._v("blob")]),s._v("数据转成"),e("code",[s._v("data:url")]),s._v("数据。")]),e("h4",[s._v("parseDataUrl(data)")]),e("blockquote",[e("p",[s._v("v0.6.6+")])]),e("p",[s._v("解析"),e("code",[s._v("data:url")]),s._v("数据，返回：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("{\n  type,"),e("span",{staticClass:"hljs-comment"},[s._v("// 数据的文件类型")]),s._v("\n  base64"),e("span",{staticClass:"hljs-comment"},[s._v("// base64数据")]),s._v("\n}\n")])]),e("h4",[s._v("getImageSize(src)")]),e("blockquote",[e("p",[s._v("v0.6.6+")])]),e("ul",[e("li",[e("code",[s._v("src")]),s._v("：图片的url")])]),e("p",[s._v("获取图片的大小。返回：")]),e("pre",{staticClass:"hljs"},[e("code",[s._v("{\n  width,\n  height\n}\n")])]),e("h2",[s._v("在canvas中模拟css的背景属性")]),e("p",[s._v("引入：")]),e("pre",{staticClass:"hljs"},[e("code",[e("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" drawBackgroundImageToCanvas "),e("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),e("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/utils/simulateCSSBackgroundInCanvas'")]),s._v("\n")])]),e("p",[s._v("使用：")]),e("pre",{staticClass:"hljs"},[e("code",[e("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" width = "),e("span",{staticClass:"hljs-number"},[s._v("500")]),s._v("\n"),e("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" height = "),e("span",{staticClass:"hljs-number"},[s._v("500")]),s._v("\n"),e("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" img = "),e("span",{staticClass:"hljs-string"},[s._v("'/1.jpg'")]),s._v("\n"),e("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" canvas = "),e("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".createElement("),e("span",{staticClass:"hljs-string"},[s._v("'canvas'")]),s._v(")\ncanvas.width = width\ncanvas.height = height\ndrawBackgroundImageToCanvas(ctx, width, height, img, {\n  "),e("span",{staticClass:"hljs-attr"},[s._v("backgroundRepeat")]),s._v(": "),e("span",{staticClass:"hljs-string"},[s._v("'repeat-y'")]),s._v(",\n  "),e("span",{staticClass:"hljs-attr"},[s._v("backgroundSize")]),s._v(": "),e("span",{staticClass:"hljs-string"},[s._v("'60%'")]),s._v(",\n  "),e("span",{staticClass:"hljs-attr"},[s._v("backgroundPosition")]),s._v(": "),e("span",{staticClass:"hljs-string"},[s._v("'center center'")]),s._v("\n}, "),e("span",{staticClass:"hljs-function"},[s._v("("),e("span",{staticClass:"hljs-params"},[s._v("err")]),s._v(") =>")]),s._v(" {\n  "),e("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (err) {\n    "),e("span",{staticClass:"hljs-comment"},[s._v("// 失败")]),s._v("\n  } "),e("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {\n    "),e("span",{staticClass:"hljs-comment"},[s._v("// 成功")]),s._v("\n  }\n})\n")])]),e("h2",[s._v("LRU缓存类")]),e("blockquote",[e("p",[s._v("v0.5.10+")])]),e("p",[s._v("引入：")]),e("pre",{staticClass:"hljs"},[e("code",[e("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Lru "),e("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),e("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/utils/Lru.js'")]),s._v("\n")])]),e("h3",[s._v("构造函数")]),e("pre",{staticClass:"hljs"},[e("code",[e("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" lru = "),e("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Lru(max)\n")])]),e("p",[e("code",[s._v("max")]),s._v("：指定最大缓存数量。")]),e("h3",[s._v("实例属性")]),e("h4",[s._v("size")]),e("p",[s._v("当前缓存的数量。")]),e("h4",[s._v("pool")]),e("p",[s._v("获取缓存池。")]),e("h3",[s._v("实例方法")]),e("h4",[s._v("add(key, value)")]),e("p",[s._v("添加缓存。")]),e("h4",[s._v("delete(key)")]),e("p",[s._v("删除指定缓存。")]),e("h4",[s._v("has(key)")]),e("p",[s._v("检查某个缓存是否存在。")]),e("h4",[s._v("get(key)")]),e("p",[s._v("获取某个缓存的值。")])])}],_={},l=_,n=a("2877"),i=Object(n["a"])(l,t,v,!1,null,null,null);e["default"]=i.exports}}]);