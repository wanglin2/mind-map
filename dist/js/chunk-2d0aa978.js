(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa978"],{1256:function(s,a,v){"use strict";v.r(a);var t=function(){var s=this;s._self._c;return s._m(0)},n=[function(){var s=this,a=s._self._c;return a("div",[a("h1",[s._v("Export 插件")]),a("p",[a("code",[s._v("Export")]),s._v("插件提供导出的功能。")]),a("h2",[s._v("注册")]),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" MindMap "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map'")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Export "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/plugins/Export.js'")]),s._v("\n"),a("span",{staticClass:"hljs-comment"},[s._v("// import Export from 'simple-mind-map/src/Export.js' v0.6.0以下版本使用该路径")]),s._v("\n\nMindMap.usePlugin(Export)\n")])]),a("p",[s._v("注册完且实例化"),a("code",[s._v("MindMap")]),s._v("后可通过"),a("code",[s._v("mindMap.doExport")]),s._v("获取到该实例。")]),a("h2",[s._v("方法")]),a("p",[s._v("所有导出的方法都是异步方法，返回一个"),a("code",[s._v("Promise")]),s._v("实例，你可以使用"),a("code",[s._v("then")]),s._v("方法获取数据，或者使用"),a("code",[s._v("async await")]),s._v("函数获取：")]),a("pre",{staticClass:"hljs"},[a("code",[s._v("mindMap.doExport.png().then("),a("span",{staticClass:"hljs-function"},[s._v("("),a("span",{staticClass:"hljs-params"},[s._v("data")]),s._v(") =>")]),s._v(" {\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// ...")]),s._v("\n})\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" = "),a("span",{staticClass:"hljs-keyword"},[s._v("async")]),s._v(" () => {\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" data = "),a("span",{staticClass:"hljs-keyword"},[s._v("await")]),s._v(" mindMap.doExport.png()\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// ...")]),s._v("\n}\n")])]),a("p",[s._v("返回的数据为"),a("code",[s._v("data:url")]),s._v("格式的，你可以创建一个"),a("code",[s._v("a")]),s._v("标签来触发下载：")]),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[s._v("let")]),s._v(" a = "),a("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".createElement("),a("span",{staticClass:"hljs-string"},[s._v("'a'")]),s._v(")\na.href = "),a("span",{staticClass:"hljs-string"},[s._v("'xxx.png'")]),a("span",{staticClass:"hljs-comment"},[s._v("// .png、.svg、.pdf、.md、.json、.smm")]),s._v("\na.download = "),a("span",{staticClass:"hljs-string"},[s._v("'xxx'")]),s._v("\na.click()\n")])]),a("h3",[s._v("png(name, transparent = false, checkRotate, compress)")]),a("blockquote",[a("p",[s._v("v0.7.0以下版本为： png(name, transparent = false, rotateWhenWidthLongerThenHeight)")])]),a("ul",[a("li",[a("p",[a("code",[s._v("name")]),s._v("：名称，可不传")])]),a("li",[a("p",[a("code",[s._v("transparent")]),s._v("：v0.5.7+，指定导出图片的背景是否是透明的")])]),a("li",[a("p",[a("code",[s._v("rotateWhenWidthLongerThenHeight")]),s._v(": v0.6.15+，v0.7.0+已废弃，Boolean, false, 是否在图片宽比高长时自动旋转90度")])]),a("li",[a("p",[a("code",[s._v("checkRotate")]),s._v("：v0.7.0+，Function，可以传递一个函数，接收图片的宽度和高度两个参数，返回true或false，true代表图片需要旋转90度")])]),a("li",[a("p",[a("code",[s._v("compress")]),s._v("：v0.8.1+，null | { width, height }, 压缩图片的参数，某些情况下导出的图片长宽可能非常大，如果希望减小，那么可以通过该参数来控制，宽或高只提供一个即可，会按比例缩放")])])]),a("p",[s._v("导出为"),a("code",[s._v("png")]),s._v("。")]),a("h3",[s._v("svg(name, plusCssText)")]),a("ul",[a("li",[a("p",[a("code",[s._v("name")]),s._v("："),a("code",[s._v("svg")]),s._v("标题")])]),a("li",[a("p",[a("code",[s._v("plusCssText")]),s._v("：v0.4.0+，（v0.6.16+已去除该参数，改为在实例化时通过"),a("code",[s._v("resetCss")]),s._v("配置传入），当开启了节点富文本编辑，且"),a("code",[s._v("domToImage")]),s._v("传了"),a("code",[s._v("false")]),s._v("时，可以添加附加的"),a("code",[s._v("css")]),s._v("样式，如果"),a("code",[s._v("svg")]),s._v("中存在"),a("code",[s._v("dom")]),s._v("节点，想要设置一些针对节点的样式可以通过这个参数传入，比如：")])])]),a("pre",{staticClass:"hljs"},[a("code",[s._v("svg(\n  "),a("span",{staticClass:"hljs-string"},[s._v("''")]),s._v(", \n  "),a("span",{staticClass:"hljs-literal"},[s._v("false")]),s._v(", \n  "),a("span",{staticClass:"hljs-string"},[s._v("`* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }`")]),s._v("\n)\n")])]),a("p",[s._v("导出为"),a("code",[s._v("svg")]),s._v("。")]),a("h3",[s._v("pdf(name, useMultiPageExport, maxImageWidth)")]),a("blockquote",[a("p",[s._v("v0.2.1+")])]),a("ul",[a("li",[a("p",[a("code",[s._v("name")]),s._v("：文件名称")])]),a("li",[a("p",[a("code",[s._v("useMultiPageExport")]),s._v(": v0.6.15+，Boolean, false, 是否多页导出，默认为单页")])]),a("li",[a("p",[a("code",[s._v("maxImageWidth")]),s._v("：v0.8.1+，null | Number，默认为a4纸的宽度的2倍, 压缩图片的参数，某些情况下图片的长宽可能非常大，导致pdf体积也非常大，所以如果希望减小体积，那么可以通过该参数来控制图片的最大宽度")])])]),a("p",[s._v("导出为"),a("code",[s._v("pdf")]),s._v("，和其他导出方法不一样，这个方法不会返回数据，会直接触发下载。")]),a("blockquote",[a("p",[s._v("v0.6.0版本以后，需要额外注册一个ExportPDF插件")])]),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" ExportPDF "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/plugins/ExportPDF.js'")]),s._v("\nMindMap.usePlugin(ExportPDF)\n")])]),a("h3",[s._v("json(name, withConfig)")]),a("p",[a("code",[s._v("name")]),s._v("：暂时没有用处，传空字符串即可")]),a("p",[a("code",[s._v("withConfig``：Boolean")]),s._v(", 默认为"),a("code",[s._v("true")]),s._v("，数据中是否包含配置，否则为纯思维导图节点数据")]),a("p",[s._v("返回"),a("code",[s._v("json")]),s._v("数据。")]),a("h3",[s._v("smm(name, withConfig)")]),a("p",[a("code",[s._v("simple-mind-map")]),s._v("自定义的文件格式，其实就是"),a("code",[s._v("json")]),s._v("，和"),a("code",[s._v("json")]),s._v("方法返回的数据一模一样。")]),a("h3",[s._v("md()")]),a("blockquote",[a("p",[s._v("v0.4.7+")])]),a("p",[s._v("导出"),a("code",[s._v("markdown")]),s._v("文件。")]),a("h3",[s._v("getSvgData()")]),a("p",[s._v("获取"),a("code",[s._v("svg")]),s._v("数据，异步方法，返回一个对象：")]),a("pre",{staticClass:"hljs"},[a("code",[s._v("{\n  node"),a("span",{staticClass:"hljs-comment"},[s._v("// svg节点")]),s._v("\n  str"),a("span",{staticClass:"hljs-comment"},[s._v("// svg字符串")]),s._v("\n}\n")])]),a("h3",[s._v("xmind(name)")]),a("blockquote",[a("p",[s._v("v0.6.6+，需要额外注册一个ExportXMind插件")])]),a("pre",{staticClass:"hljs"},[a("code",[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" ExportXMind "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'simple-mind-map/src/plugins/ExportXMind.js'")]),s._v("\nMindMap.usePlugin(ExportXMind)\n")])]),a("p",[s._v("导出为"),a("code",[s._v("xmind")]),s._v("文件类型，异步方法，返回一个"),a("code",[s._v("Promise")]),s._v("实例，返回的数据为一个"),a("code",[s._v("zip")]),s._v("压缩包的"),a("code",[s._v("data:url")]),s._v("数据，可以直接下载。")])])}],_={},e=_,o=v("2877"),l=Object(o["a"])(e,t,n,!1,null,null,null);a["default"]=l.exports}}]);